karuta randomization toy thing (also at https://jsfiddle.net/w9pt27eu/27/ )

<html><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>ricardo karuta memory practice</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <script type="text/javascript" src="/js/lib/dummy.js"></script>



    <style id="compiled-css" type="text/css">
      .field-parent {
  display:flex;
}

#tekijin .field {
  flex-direction: column;
}

#tekijin .card {
  transform: rotate(180deg);
}

.field {
  writing-mode: horizontal-tb;
  display: flex;
  flex-direction: column-reverse;
}

.sub {
  display:flex;
  padding: 0.2em;
}

.laligned {
  align-items: flex-end;
  padding-left: 2em;
}

#tekijin .laligned {
  padding-left: 10em
}

.card {
  border: solid;
  border-color: forestgreen;
  
  -webkit-writing-mode: vertical-rl;
  -moz-writing-mode: vertical-rl;
  -ms-writing-mode: vertical-rl;
  writing-mode: vertical-rl;
  
  display:flex;
  flex-direction: column;
  
  /* transform: rotate(180deg); */
}


      /* EOS */
    </style>

    <style type="text/css">
      :root {
        color-scheme: light;
      }
    </style>

  </head>
  <body>
<div class="field-parent" id="tekijin">
  <div class="field">
    <div class="sub" id="japan"></div>
    <div class="sub" id="castle"></div>
    <div class="sub" id="teotihuacan"></div>
  </div>
  <div class="field laligned">
    <div class="sub" id="concrete"></div>
    <div class="sub" id="palace"></div>
    <div class="sub" id="solarpunk"></div>
  </div>
</div>
<p>
</p>
<div class="field-parent" id="jijin">
  <div class="field">
    <div class="sub" id="jungle"></div>
    <div class="sub" id="prairie"></div>
    <div class="sub" id="desert"></div>
  </div>
  <div class="field">
    <div class="sub" id="spaceship"></div>
  </div>
  <div class="field laligned">
    <div class="sub" id="pines"></div>
    <div class="sub" id="stones"></div>
    <div class="sub" id="arctic"></div>
  </div>
</div>

    <script type="text/javascript">

function shuffle(array) {
  let currentIndex = array.length;

  // While there remain elements to shuffle...
  while (currentIndex != 0) {

    // Pick a remaining element...
    let randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex--;

    // And swap it with the current element.
    [array[currentIndex], array[randomIndex]] = [
      array[randomIndex], array[currentIndex]];
  }
}

const cards = [
    "わかころもてはつゆにぬれつつ",
    "ころもほすてふあまのかくやま",
    "なかなかしよをひとりかもねむ",
    "ふしのたかねにゆきはふりつつ",
    "こゑきくときそあきはかなしき",
    "しろきをみれはよそふけにける",
    "みかさのやまにいてしつきかも",
    "よをうちやまとひとはいふなり",
    "わかみよにふるなかめせしまに",
    "しるもしらぬもあふさかのせき",
    "ひとにはつけよあまのつりふね",
    "をとめのすかたしはしととめむ",
    "こひそつもりてふちとなりぬる",
    "みたれそめにしわれならなくに",
    "わかころもてにゆきはふりつつ",
    "まつとしきかはいまかへりこむ",
    "からくれなゐにみつくくるとは",
    "ゆめのかよひちひとめよくらむ",
    "あはてこのよをすくしてよとや",
    "みをつくしてもあはむとそおもふ",
    "ありあけのつきをまちいてつるかな",
    "むへやまかせをあらしといふらむ",
    "わかみひとつのあきにはあらねと",
    "もみちのにしきかみのまにまに",
    "ひとにしられてくるよしもかな",
    "いまひとたひのみゆきまたなむ",
    "いつみきとてかこひしかるらむ",
    "ひとめもくさもかれぬとおもへは",
    "おきまとはせるしらきくのはな",
    "あかつきはかりうきものはなし",
    "よしののさとにふれるしらゆき",
    "なかれもあへぬもみちなりけり",
    "しつこころなくはなのちるらむ",
    "まつもむかしのともならなくに",
    "はなそむかしのかににほひける",
    "くものいつこにつきやとるらむ",
    "つらぬきとめぬたまそちりける",
    "ひとのいのちのをしくもあるかな",
    "あまりてなとかひとのこひしき",
    "ものやおもふとひとのとふまて",
    "ひとしれすこそおもひそめしか",
    "すゑのまつやまなみこさしとは",
    "むかしはものをおもはさりけり",
    "ひとをもみをもうらみさらまし",
    "みのいたつらになりぬへきかな",
    "ゆくへもしらぬこひのみちかな",
    "ひとこそみえねあきはきにけり",
    "くたけてものをおもふころかな",
    "ひるはきえつつものをこそおもへ",
    "なかくもかなとおもひけるかな",
    "さしもしらしなもゆるおもひを",
    "なほうらめしきあさほらけかな",
    "いかにひさしきものとかはしる",
    "けふをかきりのいのちともかな",
    "なこそなかれてなほきこえけれ",
    "いまひとたひのあふこともかな",
    "くもかくれにしよはのつきかな",
    "いてそよひとをわすれやはする",
    "かたふくまてのつきをみしかな",
    "またふみもみすあまのはしたて",
    "けふここのへににほひぬるかな",
    "よにあふさかのせきはゆるさし",
    "ひとつてならていふよしもかな",
    "あらはれわたるせせのあしろき",
    "こひにくちなむなこそをしけれ",
    "はなよりほかにしるひともなし",
    "かひなくたたむなこそをしけれ",
    "こひしかるへきよはのつきかな",
    "たつたのかはのにしきなりけり",
    "いつこもおなしあきのゆふくれ",
    "あしのまろやにあきかせそふく",
    "かけしやそてのぬれもこそすれ",
    "とやまのかすみたたすもあらなむ",
    "はけしかれとはいのらぬものを",
    "あはれことしのあきもいぬめり",
    "くもゐにまかふおきつしらなみ",
    "われてもすゑにあはむとそおもふ",
    "いくよねさめぬすまのせきもり",
    "もれいつるつきのかけのさやけさ",
    "みたれてけさはものをこそおもへ",
    "たたありあけのつきそのこれる",
    "うきにたへぬはなみたなりけり",
    "やまのおくにもしかそなくなる",
    "うしとみしよそいまはこひしき",
    "ねやのひまさへつれなかりけり",
    "かこちかほなるわかなみたかな",
    "きりたちのほるあきのゆふくれ",
    "みをつくしてやこひわたるへき",
    "しのふることのよわりもそする",
    "ぬれにそぬれしいろはかはらす",
    "ころもかたしきひとりかもねむ",
    "ひとこそしらねかわくまもなし",
    "あまのをふねのつなてかなしも",
    "ふるさとさむくころもうつなり",
    "わかたつそまにすみそめのそて",
    "ふりゆくものはわかみなりけり",
    "やくやもしほのみもこかれつつ",
    "みそきそなつのしるしなりける",
    "よをおもふゆゑにものおもふみは",
    "なほあまりあるむかしなりけり"
]

shuffle(cards);

const splitCards = cards.map( card => [
			card.slice(0, 5), // right column characters
			card.slice(5, 10), // middle column characters
			card.slice(10), // left column characters
		]);

const halfTheCards = splitCards.slice(0, 50);
const structuredCards =
	{
  ['japan']: halfTheCards.slice(0,6),
  ['castle']: halfTheCards.slice(6,10),
  ['teotihuacan']: halfTheCards.slice(10, 13),
  ['concrete']: halfTheCards.slice(13, 18),
  ['palace']: halfTheCards.slice(18, 22),
  ['solarpunk']: halfTheCards.slice(22, 25),
  
  ['jungle']: halfTheCards.slice(25, 30),
  ['prairie']: halfTheCards.slice(30, 34),
  ['desert']: halfTheCards.slice(34, 36),
  
  ['spaceship']: halfTheCards.slice(36, 39),
  
  ['pines']: halfTheCards.slice(39, 44),
  ['stones']: halfTheCards.slice(44, 48),
  ['arctic']: halfTheCards.slice(48, 50),
  
  }

for (const [biome, cards] of Object.entries(structuredCards)) {
	cards.forEach(([first, second, third]) => {
	//console.log([first, second, third]);
  const cardEl = document.createElement('div');

	const firstSpan = document.createElement('div');
  const firstText = document.createTextNode(first);
  firstSpan.appendChild(firstText);
  
  const secondSpan = document.createElement('div');
  const secondText = document.createTextNode(second);
  secondSpan.appendChild(secondText);
  
  const thirdSpan = document.createElement('div');
  const thirdText = document.createTextNode(third);
  thirdSpan.appendChild(thirdText);
  
  [firstSpan, secondSpan, thirdSpan]
  	.forEach(span => {cardEl.appendChild(span);})
  const place = document.querySelector(`#${biome}`);
  
  cardEl.classList.add('card');

  // add the text node to the newly created div
  cardEl.appendChild(firstSpan);
  cardEl.appendChild(secondSpan);
  cardEl.appendChild(thirdSpan);

  // Add element to list
	place.appendChild(cardEl)
})
}



  </script>
</body></html>

